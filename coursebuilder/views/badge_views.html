{% import 'share_buttons.html' as share_buttons %}
{% macro profile(badge, assertion, assertion_link) -%}
<div class="part-badge-image">
  <div class="profile-badge-info">
    <img src="{{ badge.image }}" {% if not assertion %}class="not-issued"{% endif %}>
  </div>
  {% if assertion.evidence %}
  <div class="share-button">
    See your <a href="{{ assertion.evidence }}">Evidence page</a> for this badge.
  </div>
  {% endif %}
</div>
<div class="badge-share-links">
  {% if assertion %}
  <div class="issue-link share-button">
    <img src="/assets/img/share/mozillaopenbadges.png" alt="Mozilla Open Badges" title="Mozilla Open Badges">
    <a href="javascript:OpenBadges.issue(['{{ assertion_link(assertion)|escapejs }}'], function(err, ok) {});">Claim on Mozilla Badge Backpack</a>
  </div>
  {% if assertion.evidence %}
  {{ share_buttons.email(assertion.evidence) }}
  {{ share_buttons.facebook(assertion.evidence) }}
  {{ share_buttons.twitter(assertion.evidence) }}
  {{ share_buttons.gplus(assertion.evidence) }}
  {% endif %}
  {% else %}
  <div class="not-earned">(You have not earned this badge yet)</div>
  {% endif %}
  <div class="criteria-link share-button">
    <a href="/badges/badge?name={{ badge.key().name()|urlencode }}&amp;action=criteria">Badge Criteria</a>
  </div>
</div>
{%- endmacro %}
{% macro evidence(badge, assertion) -%}
<div class="part-badge-image">
  <div class="profile-badge-info">
    <img src="{{ badge.image }}" {% if not assertion %}class="not-issued"{% endif %}>
  </div>
</div>
<div class="badge-share-links">
</div>
{%- endmacro %}
